<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>fcms.resources.item documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Falkland-cms 0.2.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="fcms.resources.collection.html"><span>fcms.resources.collection</span></a></li><li><a href="fcms.resources.common.html"><span>fcms.resources.common</span></a></li><li class="current"><a href="fcms.resources.item.html"><span>fcms.resources.item</span></a></li><li><a href="fcms.resources.taxonomy.html"><span>fcms.resources.taxonomy</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="fcms.resources.item.html#var-all-items"><span>all-items</span></a></li><li><a href="fcms.resources.item.html#var-create-item"><span>create-item</span></a></li><li><a href="fcms.resources.item.html#var-delete-item"><span>delete-item</span></a></li><li><a href="fcms.resources.item.html#var-get-item"><span>get-item</span></a></li><li><a href="fcms.resources.item.html#var-update-item"><span>update-item</span></a></li><li><a href="fcms.resources.item.html#var-valid-item-update"><span>valid-item-update</span></a></li><li><a href="fcms.resources.item.html#var-valid-new-item"><span>valid-new-item</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>fcms.resources.item documentation</h2><pre class="doc">
</pre><div class="public" id="var-all-items"><h3>all-items</h3><div class="usage"><code>(all-items coll-slug)</code></div><pre class="doc">Given the slug of the collection, return all the items it contains as a sequence of maps,
or return :bad-collection if there's no collection with that slug.</pre><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L88">Source</a></div></div><div class="public" id="var-create-item"><h3>create-item</h3><div class="usage"><code>(create-item coll-slug item-name)</code><code>(create-item coll-slug item-name props)</code></div><pre class="doc">Create a new item in the collection specified by its slug, using the specified
item name and an optional map of properties.
If :slug is included in the properties it will be used as the item's slug, otherwise
the slug will be created from the name.
:slug-conflict is returned if a :slug is included in the properties and an item already exists
in the collection with that slug.
:invalid-slug is returned if a :slug is included in the properties and it's not valid.
:property-conflict is returned if a property is included in the map of properties that is in
the reserved-properties set.</pre><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L34">Source</a></div></div><div class="public" id="var-delete-item"><h3>delete-item</h3><div class="usage"><code>(delete-item coll-slug slug)</code></div><pre class="doc">Given the slug of the collection containing the item and the slug of the item,
delete the item and return true. 
:bad-collection is returned if there's no collection with that slug.
:bad-item is returned if there is no item with the specified slug.</pre><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L48">Source</a></div></div><div class="public" id="var-get-item"><h3>get-item</h3><div class="usage"><code>(get-item coll-slug slug)</code></div><pre class="doc">Given the slug of the collection containing the item and the slug of the item,
return the item as a map, or return :bad-collection if there's no collection with that slug, or
nil if there is no item with that slug.</pre><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L14">Source</a></div></div><div class="public" id="var-update-item"><h3>update-item</h3><div class="usage"><code>(update-item coll-slug slug props)</code></div><pre class="doc">Update an item in the collection specified by its slug using the specified
map of properties. If :slug is included in the properties
the item will be moved to the new slug, otherwise the slug will remain the same.
The same validity conditions and invalid return values as valid-item-update apply.
If the item is updated successfully, the newly updated item is returned.</pre><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L73">Source</a></div></div><div class="public" id="var-valid-item-update"><h3>valid-item-update</h3><div class="usage"><code>(valid-item-update coll-slug slug props)</code></div><pre class="doc">Given the slug of the collection, the slug of the item,
and a map of updated properties for the item,
check if the everything is in order to update the item.
It ensures the collection exists or returns :bad-collection.
It ensures the item exists or returns :bad-item.
If a new slug is provided in the properties, it ensures it's
valid or returns :invalid-slug and ensures it's unused or
returns :slug-conflict.
:property-conflict is returned if a property is included in the map of properties that is
in the reserved-properties set.</pre><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L59">Source</a></div></div><div class="public" id="var-valid-new-item"><h3>valid-new-item</h3><div class="usage"><code>(valid-new-item coll-slug item-name)</code><code>(valid-new-item coll-slug item-name props)</code></div><pre class="doc">Given the slug of the collection, the name of the item, and a map of a potential new item,
check if the everything is in order to create the new item.
Ensure the collection exists or return :bad-collection.
Ensure the name of the item is specified or return :no-name.
Ensure the slug is valid and doesn't already exist if it's specified,
or return :invalid-slug or :slug-conflict respectively.
:property-conflict is returned if a property is included in the map of properties that is in the reserved-properties
set.</pre><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L21">Source</a></div></div></div></body></html>