<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>fcms.resources.item documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Falkland-cms 0.3.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fcms</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>resources</span></div></div></li><li class="depth-3 branch"><a href="fcms.resources.collection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collection</span></div></a></li><li class="depth-3 branch"><a href="fcms.resources.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-3 branch current"><a href="fcms.resources.item.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>item</span></div></a></li><li class="depth-3"><a href="fcms.resources.taxonomy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>taxonomy</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="fcms.resources.item.html#var-all-items"><div class="inner"><span>all-items</span></div></a></li><li class="depth-1"><a href="fcms.resources.item.html#var-create-item"><div class="inner"><span>create-item</span></div></a></li><li class="depth-1"><a href="fcms.resources.item.html#var-delete-item"><div class="inner"><span>delete-item</span></div></a></li><li class="depth-1"><a href="fcms.resources.item.html#var-get-item"><div class="inner"><span>get-item</span></div></a></li><li class="depth-1"><a href="fcms.resources.item.html#var-update-item"><div class="inner"><span>update-item</span></div></a></li><li class="depth-1"><a href="fcms.resources.item.html#var-valid-item-update"><div class="inner"><span>valid-item-update</span></div></a></li><li class="depth-1"><a href="fcms.resources.item.html#var-valid-new-item"><div class="inner"><span>valid-new-item</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">fcms.resources.item</h2><div class="doc"><div class="markdown"><p>An item is any resource that&rsquo;s been stored in a collection.</p><p>Items may also be organized in one or more taxonomies.</p></div></div><div class="public anchor" id="var-all-items"><h3>all-items</h3><div class="usage"><code>(all-items coll-slug)</code></div><div class="doc"><div class="markdown"><p>Given the slug of the collection, return all the items it contains as a sequence of maps, or return :bad-collection if there&rsquo;s no collection with that slug.</p></div></div><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L91">view source</a></div></div><div class="public anchor" id="var-create-item"><h3>create-item</h3><div class="usage"><code>(create-item coll-slug item-name)</code><code>(create-item coll-slug item-name props)</code></div><div class="doc"><div class="markdown"><p>Create a new item in the collection specified by its slug, using the specified item name and an optional map of properties. If :slug is included in the properties it will be used as the item&rsquo;s slug, otherwise the slug will be created from the name. :slug-conflict is returned if a :slug is included in the properties and an item already exists in the collection with that slug. :invalid-slug is returned if a :slug is included in the properties and it&rsquo;s not valid. :property-conflict is returned if a property is included in the map of properties that is in the reserved-properties set.</p></div></div><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L37">view source</a></div></div><div class="public anchor" id="var-delete-item"><h3>delete-item</h3><div class="usage"><code>(delete-item coll-slug slug)</code></div><div class="doc"><div class="markdown"><p>Given the slug of the collection containing the item and the slug of the item, delete the item and return true. :bad-collection is returned if there&rsquo;s no collection with that slug. :bad-item is returned if there is no item with the specified slug.</p></div></div><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L51">view source</a></div></div><div class="public anchor" id="var-get-item"><h3>get-item</h3><div class="usage"><code>(get-item coll-slug slug)</code></div><div class="doc"><div class="markdown"><p>Given the slug of the collection containing the item and the slug of the item, return the item as a map, or return :bad-collection if there&rsquo;s no collection with that slug, or nil if there is no item with that slug.</p></div></div><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L17">view source</a></div></div><div class="public anchor" id="var-update-item"><h3>update-item</h3><div class="usage"><code>(update-item coll-slug slug props)</code></div><div class="doc"><div class="markdown"><p>Update an item in the collection specified by its slug using the specified map of properties. If :slug is included in the properties the item will be moved to the new slug, otherwise the slug will remain the same. The same validity conditions and invalid return values as valid-item-update apply. If the item is updated successfully, the newly updated item is returned.</p></div></div><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L76">view source</a></div></div><div class="public anchor" id="var-valid-item-update"><h3>valid-item-update</h3><div class="usage"><code>(valid-item-update coll-slug slug props)</code></div><div class="doc"><div class="markdown"><p>Given the slug of the collection, the slug of the item, and a map of updated properties for the item, check if the everything is in order to update the item. It ensures the collection exists or returns :bad-collection. It ensures the item exists or returns :bad-item. If a new slug is provided in the properties, it ensures it&rsquo;s valid or returns :invalid-slug and ensures it&rsquo;s unused or returns :slug-conflict. :property-conflict is returned if a property is included in the map of properties that is in the reserved-properties set.</p></div></div><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L62">view source</a></div></div><div class="public anchor" id="var-valid-new-item"><h3>valid-new-item</h3><div class="usage"><code>(valid-new-item coll-slug item-name)</code><code>(valid-new-item coll-slug item-name props)</code></div><div class="doc"><div class="markdown"><p>Given the slug of the collection, the name of the new item, and a map of the new item&rsquo;s properties, check if the everything is in order to create the new item. Ensure the collection exists or return :bad-collection. Ensure the name of the item is specified or return :no-name. Ensure the slug is valid and doesn&rsquo;t already exist if it&rsquo;s specified, or return :invalid-slug or :slug-conflict respectively. :property-conflict is returned if a property is included in the map of properties that is in the reserved-properties set.</p></div></div><div class="src-link"><a href="http://github.com/SnootyMonkey/Falkland-CMS/blob/master/src/fcms/resources/item.clj#L24">view source</a></div></div></div></body></html>